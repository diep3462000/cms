CREATE TABLE add_money (id BIGINT AUTO_INCREMENT, userid BIGINT COMMENT 'user id nạp tiền', addcash BIGINT COMMENT 'Số cash được cộng', addgold BIGINT COMMENT 'Số gold được cộng', description TEXT COMMENT 'Lý do cộng tiền', admin_id BIGINT COMMENT 'admin id cộng tiền', status SMALLINT COMMENT 'Trạng thái giao dịch: 0 tạo mới, 1: cộng tiền thành công', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX admin_id_idx (admin_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE announcement (announcementid INT AUTO_INCREMENT, cp VARCHAR(10), subject VARCHAR(200), content TEXT NOT NULL, createdtime DATETIME NOT NULL, PRIMARY KEY(announcementid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE announcement_readed (announcementreadedid INT AUTO_INCREMENT, userid BIGINT, announcementid INT, PRIMARY KEY(announcementreadedid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE app_chan_rule (ruleid INT, name VARCHAR(40), description VARCHAR(200), point INT, dich INT, PRIMARY KEY(ruleid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE avatar (avatarid INT AUTO_INCREMENT, name VARCHAR(200) DEFAULT '' NOT NULL, description VARCHAR(200) DEFAULT '' NOT NULL, path VARCHAR(100) DEFAULT NULL, cash BIGINT DEFAULT '0' NOT NULL, gold BIGINT DEFAULT '0' NOT NULL, createdtime DATETIME NOT NULL, width INT DEFAULT '0' NOT NULL, height INT DEFAULT '0' NOT NULL, status TINYINT DEFAULT '0' NOT NULL, _bytes LONGBLOB, PRIMARY KEY(avatarid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE avatar_buy (avatarbuyid INT AUTO_INCREMENT, userid BIGINT NOT NULL, username VARCHAR(75), avatarid INT NOT NULL, boughttime DATETIME NOT NULL, PRIMARY KEY(avatarbuyid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE avatar_resource (avatarresourceid INT AUTO_INCREMENT, name VARCHAR(200) NOT NULL, description VARCHAR(200), path VARCHAR(200) NOT NULL, cash BIGINT, gold BIGINT, buynumber INT, createdtime DATETIME, modifiedtime DATETIME, width INT, height INT, PRIMARY KEY(avatarresourceid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE bet_cash (betcashid INT AUTO_INCREMENT, cash BIGINT NOT NULL, PRIMARY KEY(betcashid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE bet_gold (betgoldid INT AUTO_INCREMENT, gold BIGINT NOT NULL, PRIMARY KEY(betgoldid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE card_provider (providerid INT AUTO_INCREMENT, providercode VARCHAR(10) NOT NULL, providername stringh(20) NOT NULL COMMENT 'Tên nhà cung cấp', description VARCHAR(20) COMMENT 'Mô tả', active TINYINT DEFAULT 1 COMMENT 'Active = 1', telcopercent VARCHAR(5) DEFAULT '1' COMMENT 'Tỉ lệ game nhận được từ nhà mạng', valuepercent VARCHAR(5) DEFAULT '1' COMMENT 'Tỉ lệ Ken nhận được', PRIMARY KEY(providerid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE client_type (clientid INT UNSIGNED AUTO_INCREMENT, code bigint(11) COMMENT 'mã hệ điều hành', name VARCHAR(255) NOT NULL COMMENT 'Tên', PRIMARY KEY(clientid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cms_category (categoryid INT AUTO_INCREMENT, title VARCHAR(255), menutext VARCHAR(255), parentid INT, url VARCHAR(255), description VARCHAR(255), createdtime DATETIME, modifiedtime DATETIME, author VARCHAR(255), ismenu TINYINT DEFAULT '0', status TINYINT, PRIMARY KEY(categoryid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cms_category_footer (categoryfooterid INT AUTO_INCREMENT, title VARCHAR(255), menutext VARCHAR(255), parentid INT, url VARCHAR(255), description VARCHAR(255), createdtime DATETIME, modifiedtime DATETIME, author VARCHAR(255), status TINYINT, PRIMARY KEY(categoryfooterid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cms_group (group_id BIGINT AUTO_INCREMENT, user_id BIGINT, user_name VARCHAR(75), create_date DATETIME, category_id BIGINT, modified_date DATETIME, group_name VARCHAR(255), status TINYINT DEFAULT '1', description TEXT, PRIMARY KEY(group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cms_group_right (group_id BIGINT, right_id BIGINT, PRIMARY KEY(group_id, right_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cms_news (newid INT AUTO_INCREMENT, title TEXT NOT NULL, description TEXT, content TEXT, photo VARCHAR(255), createdtime DATETIME NOT NULL, categoryid INT, author VARCHAR(255), views INT DEFAULT '1', spotlight INT DEFAULT '0', modifiedtime DATETIME, order INT DEFAULT '0', slider TINYINT DEFAULT '0', website VARCHAR(255) DEFAULT '0', ispopup TINYINT DEFAULT '0', status INT NOT NULL, PRIMARY KEY(newid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cms_right (right_id BIGINT AUTO_INCREMENT, user_id BIGINT, user_name VARCHAR(75), create_date DATETIME, modified_date DATETIME, category_id BIGINT, right_type TINYINT, description TEXT, right_name VARCHAR(75), status TINYINT DEFAULT '1', PRIMARY KEY(right_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cms_role (role_id BIGINT AUTO_INCREMENT, user_id BIGINT, user_name VARCHAR(75), create_date DATETIME, modified_date DATETIME, role_name VARCHAR(75), description TEXT, status TINYINT DEFAULT '1', immune TINYINT DEFAULT '0', shareable TINYINT DEFAULT '1', PRIMARY KEY(role_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cms_role_group (role_id BIGINT, group_id BIGINT, PRIMARY KEY(role_id, group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cms_user (user_id BIGINT AUTO_INCREMENT, user_name VARCHAR(75), create_date DATETIME, modified_date DATETIME, email VARCHAR(75), phone VARCHAR(15), mobile VARCHAR(15), gender TINYINT, date_of_birth DATE, birth_place VARCHAR(200), first_name VARCHAR(75), middle_name VARCHAR(75), last_name VARCHAR(75), status TINYINT, password VARCHAR(255), dept_id BIGINT, address TEXT, description TEXT, verification_code VARCHAR(255), cp TEXT, PRIMARY KEY(user_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cms_user_role (user_id BIGINT, role_id BIGINT, PRIMARY KEY(user_id, role_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cp (id INT AUTO_INCREMENT, cpid VARCHAR(10) NOT NULL, cpname VARCHAR(20) NOT NULL, createdtime DATETIME, modifiedtime DATETIME, cashcurrency VARCHAR(5) DEFAULT 'Xu', goldcurrency VARCHAR(5) DEFAULT 'Ken', homepage VARCHAR(100) DEFAULT 'http://www.kengame.net' NOT NULL, noticetext TEXT NOT NULL, privatekey TEXT, status TINYINT DEFAULT '1' NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE cpkey (cpkeyid INT AUTO_INCREMENT, cpid VARCHAR(11) DEFAULT '0', keyconnect VARCHAR(255), PRIMARY KEY(cpkeyid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE data_log (datalogid BIGINT AUTO_INCREMENT, createdtime DATETIME, insertedtime DATETIME, userid BIGINT, username VARCHAR(75), matchid BIGINT, type INT, content TEXT, clienttype INT, matchindex INT DEFAULT '0', duration BIGINT DEFAULT '0', PRIMARY KEY(datalogid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE download_count (downloadcountid INT AUTO_INCREMENT, ip VARCHAR(40), platform VARCHAR(20), downloadedtime DATETIME, cp VARCHAR(10) DEFAULT '0', type VARCHAR(255), PRIMARY KEY(downloadcountid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE download_log (downloadlogid INT AUTO_INCREMENT, phonename TEXT NOT NULL, brandname TEXT NOT NULL, datetime DATETIME NOT NULL, width INT, height INT, setup INT DEFAULT '0' NOT NULL, registry INT DEFAULT '0' NOT NULL, login INT DEFAULT '0' NOT NULL, version VARCHAR(10) DEFAULT ' ' NOT NULL, setuptime DATETIME DEFAULT '0000-00-00 00:00:00' NOT NULL, source VARCHAR(20), PRIMARY KEY(downloadlogid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE epay_log (epaylogid INT AUTO_INCREMENT, time DATETIME, status TEXT, code VARCHAR(100) DEFAULT NULL, success INT DEFAULT '0', type INT DEFAULT '1', PRIMARY KEY(epaylogid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE event (eventid INT AUTO_INCREMENT, name VARCHAR(255), content TEXT, starttime DATETIME, endtime DATETIME, createdtime DATETIME, author VARCHAR(255), daily TINYINT DEFAULT '1', weekly TINYINT DEFAULT '1', monthly TINYINT DEFAULT '1', photo VARCHAR(255), cp VARCHAR(70) DEFAULT '0', regstarttime DATETIME, regendtime DATETIME, status TINYINT DEFAULT '0', PRIMARY KEY(eventid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE event_register (eventregisterid INT AUTO_INCREMENT, eventid INT, username VARCHAR(75), fullname VARCHAR(255), email VARCHAR(255), phone VARCHAR(255), registeredtime DATETIME NOT NULL, ym VARCHAR(255) NOT NULL, rank INT DEFAULT '0', comment TEXT, identity VARCHAR(25), startcash VARCHAR(40), status TINYINT DEFAULT '0', PRIMARY KEY(eventregisterid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE exchange_asset (assetid BIGINT AUTO_INCREMENT, name bigint(20) NOT NULL, parvalue VARCHAR(32) COMMENT 'Mệnh giá thẻ cào hoặc giá niêm yết của hiện vật', cashvalue BIGINT NOT NULL, trustedindex TEXT NOT NULL COMMENT 'điểm tín nhiệm sẽ bị giảm đi', provider VARCHAR(12) NOT NULL COMMENT 'nhà cung cấp, nếu là trường hợp thẻ cào thì là mã nhà cung cấp', type BIGINT NOT NULL COMMENT '1: thẻ cào, 2: hiện vật', active TINYINT NOT NULL, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(assetid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE exchange_asset (requestid BIGINT AUTO_INCREMENT, requestuserid bigint(20) NOT NULL, requestusername VARCHAR(32), assetid BIGINT NOT NULL, securitykey TEXT NOT NULL COMMENT 'Mã để cms kiểm tra có đúng request đổi thưởng từ người dùng không', amount MEDIUMINT NOT NULL COMMENT 'Số lượng vật phẩm', totalcash BIGINT NOT NULL COMMENT 'tổng giá trị xu ', requesttime DATETIME NOT NULL COMMENT 'Thời điểm gửi yêu cầu', responsetime DATETIME, description TEXT, accepted SMALLINT COMMENT 'chấp nhận hoặc từ chối', request_topup_id TEXT COMMENT 'request Id lên topup', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(requestid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE exchange_asset_request (requestid BIGINT AUTO_INCREMENT, requestuserid bigint(20) NOT NULL, requestusername VARCHAR(32), assetid BIGINT NOT NULL, securitykey TEXT NOT NULL COMMENT 'Mã để cms kiểm tra có đúng request đổi thưởng từ người dùng không', amount BIGINT NOT NULL, totalcash BIGINT NOT NULL COMMENT 'tổng giá trị xu', status TINYINT NOT NULL COMMENT 'trạng thái yêu cầu: 0 - mới insert chưa xử lý, 1 - sms đã check thành công, 2 - thất bại', description TEXT, checkedtime DATETIME COMMENT 'Thời gian CMS check', responsedata TEXT COMMENT 'Thông tin trả về', request_topup_id VARCHAR(32) COMMENT 'request id map voi topup', totalparvalue BIGINT COMMENT 'Giá trị thẻ nạp VNĐ', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX requestuserid_idx (requestuserid), PRIMARY KEY(requestid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE experience_value (experiencevalueid INT AUTO_INCREMENT, increase INT, description VARCHAR(100), PRIMARY KEY(experiencevalueid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE friend (friendid INT AUTO_INCREMENT, leftuserid BIGINT NOT NULL, rightuserid BIGINT NOT NULL, createdtime DATETIME NOT NULL, acceptedtime DATETIME, status TINYINT DEFAULT '0', PRIMARY KEY(friendid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE game (gameid INT AUTO_INCREMENT, name VARCHAR(50) NOT NULL, description TEXT, help TEXT, status TINYINT, PRIMARY KEY(gameid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE game_client (clientid SMALLINT UNSIGNED AUTO_INCREMENT, clientname VARCHAR(50), PRIMARY KEY(clientid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE game_history (gamehistoryid BIGINT AUTO_INCREMENT, userid BIGINT NOT NULL, username VARCHAR(75), cash BIGINT NOT NULL, currentcash BIGINT NOT NULL, description TEXT NOT NULL, gameid INT DEFAULT '0' NOT NULL, gametransactionid INT DEFAULT '0' NOT NULL, time DATETIME, money INT, cp TEXT, title TEXT, tax INT DEFAULT '0', taxpercent INT DEFAULT '0', gold BIGINT, currentgold BIGINT, PRIMARY KEY(gamehistoryid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE game_log (gamelogid BIGINT AUTO_INCREMENT, gameid INT NOT NULL, hostuserid BIGINT NOT NULL, winnerid BIGINT DEFAULT '0' NOT NULL, roomid INT DEFAULT '0' NOT NULL, cash INT NOT NULL, gold INT NOT NULL, uniqueid BIGINT NOT NULL, inserttime DATETIME NOT NULL, roomname VARCHAR(100) DEFAULT NULL, playernumber INT DEFAULT '0' NOT NULL, playercount INT NOT NULL, PRIMARY KEY(gamelogid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE game_provider (providerid INT UNSIGNED AUTO_INCREMENT, providername VARCHAR(50), md5key VARCHAR(50) NOT NULL, defaultcp VARCHAR(10) DEFAULT '0' NOT NULL, PRIMARY KEY(providerid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE game_transaction (id BIGINT AUTO_INCREMENT, gametransactionid BIGINT NOT NULL AUTO_INCREMENT, type VARCHAR(40) NOT NULL, code VARCHAR(40) DEFAULT '' NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE game_version (versionid INT UNSIGNED AUTO_INCREMENT, clientid SMALLINT UNSIGNED NOT NULL, versioncode VARCHAR(5) NOT NULL, versionmsg VARCHAR(100), forceupdate TINYINT DEFAULT '1' NOT NULL, lastupdatedtime DATETIME, status TINYINT DEFAULT '0' NOT NULL, PRIMARY KEY(versionid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE gcm_register (gcmregisterid INT AUTO_INCREMENT, gcmid TEXT NOT NULL, os VARCHAR(50) NOT NULL, createdtime DATETIME NOT NULL, modifiedtime DATETIME, cp VARCHAR(10), PRIMARY KEY(gcmregisterid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE gift (giftid INT AUTO_INCREMENT, code VARCHAR(255), name VARCHAR(255), createdtime DATETIME DEFAULT '0000-00-00 00:00:00' NOT NULL, expiredtime DATETIME, gifttypeid INT, userid BIGINT, username VARCHAR(75), description VARCHAR(255), value BIGINT, volume INT DEFAULT '0', ip VARCHAR(255), status INT DEFAULT '0', PRIMARY KEY(giftid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE gift_code (giftid BIGINT AUTO_INCREMENT, gifteventid BIGINT DEFAULT '0' NOT NULL, userid BIGINT COMMENT 'userid người chơi', username VARCHAR(50) COMMENT 'userName người chơi', cashvalue BIGINT, goldvalue BIGINT, code VARCHAR(20) NOT NULL UNIQUE, expiredtime DATETIME COMMENT 'Thời điểm hết hạn. Đổi tên từ expired', reuseable SMALLINT COMMENT '0: dem so lan; 1: ko dem so lan su dung-su dung nhieu lan 1 ma', status SMALLINT COMMENT 'Trạng thái: 1: active, 0: đã sử dụng', ip VARCHAR(50) COMMENT 'Đổi đến từ IP', description VARCHAR(250) COMMENT 'Mô tả', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX gifteventid_idx (gifteventid), PRIMARY KEY(giftid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE gift_event (gifteventid BIGINT AUTO_INCREMENT, eventname VARCHAR(250) NOT NULL, cashvalue BIGINT, goldvalue BIGINT, expiredtime DATETIME COMMENT 'Thời điểm hết hạn. Đổi tên từ expired', reuseable SMALLINT COMMENT '0: dem so lan; 1: ko dem so lan su dung-su dung nhieu lan 1 ma', description VARCHAR(250), status SMALLINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(gifteventid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE gift_type (gifttypeid INT AUTO_INCREMENT, type VARCHAR(255), value FLOAT(10, 2), description VARCHAR(255), createdtime DATETIME, expiredtime DATETIME, volume INT DEFAULT '0', code VARCHAR(255), status TINYINT DEFAULT '1', PRIMARY KEY(gifttypeid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE gv_test_case (id INT AUTO_INCREMENT, test_key VARCHAR(200) NOT NULL, value TEXT NOT NULL, game_id INT NOT NULL, description TEXT, status TINYINT DEFAULT 0 NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE history (historyid INT AUTO_INCREMENT, userid BIGINT NOT NULL, username VARCHAR(75), cash BIGINT NOT NULL, currentcash BIGINT NOT NULL, description TEXT NOT NULL, gameid INT DEFAULT '0' NOT NULL, transactiontypeid INT DEFAULT '0' NOT NULL, time DATETIME, money INT, cp TEXT, title TEXT, iscoin TINYINT DEFAULT '1', cardtype TINYINT DEFAULT '0', shortcode VARCHAR(4), telco VARCHAR(5), status TINYINT DEFAULT '1', PRIMARY KEY(historyid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE history_filter (historyfilterid INT AUTO_INCREMENT, textview TEXT NOT NULL, _sql TEXT, role TEXT, _order INT, PRIMARY KEY(historyfilterid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE level (level INT AUTO_INCREMENT, name VARCHAR(20), description VARCHAR(200), maxexp BIGINT DEFAULT '100', cashgift INT DEFAULT '0', goldgift INT DEFAULT '10000', PRIMARY KEY(level)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE link (linkid INT AUTO_INCREMENT, url VARCHAR(255), name VARCHAR(255), userid BIGINT, description VARCHAR(255), clicked INT, createdtime DATETIME, updatedtime DATETIME, introuserid BIGINT, status TINYINT, PRIMARY KEY(linkid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE log_payment (id BIGINT AUTO_INCREMENT, userid BIGINT NOT NULL, seria VARCHAR(30) COMMENT 'seria', pin_card VARCHAR(30) COMMENT 'mã thẻ', providerid interger(2) COMMENT 'Id nhà cung cấp', money BIGINT, type INT DEFAULT '0', status INT, message TEXT NOT NULL, content TEXT, request_time DATETIME NOT NULL COMMENT 'Thời gian phản hồi', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX userid_idx (userid), INDEX providerid_idx (providerid), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE match_log (matchlogid INT UNSIGNED AUTO_INCREMENT, roomid BIGINT NOT NULL, matchindex INT DEFAULT '0', gameid INT, description TEXT NOT NULL, createdtime DATETIME NOT NULL, INDEX gameid_idx (gameid), PRIMARY KEY(matchlogid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE medal (medal INT, name VARCHAR(200), description TEXT, maxlevel INT DEFAULT '1' NOT NULL, _bytes LONGBLOB, PRIMARY KEY(medal)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE message (messageid BIGINT AUTO_INCREMENT, senderuserid BIGINT, senderusername VARCHAR(50), recipientuserid BIGINT NOT NULL, recipientusername VARCHAR(50), title VARCHAR(250), body TEXT, senttime DATETIME, status TINYINT DEFAULT '1' NOT NULL, readed TINYINT DEFAULT '0' NOT NULL, attachitemid INT, attachitemquatity BIGINT, expiredtime DATETIME, parentid BIGINT, PRIMARY KEY(messageid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE message_type (id BIGINT AUTO_INCREMENT, messagetypeid INT, name VARCHAR(50), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE mo_history (id bigint(20), mo_id bigint(11) NOT NULL, phone_number bigint(20) NOT NULL, user_id bigint(15) NOT NULL, amount bigint(15) NOT NULL, transdate TEXT NOT NULL, shortcode TEXT NOT NULL, keyword VARCHAR(32) COMMENT 'keyword tin nhan', content TEXT, telco VARCHAR(10) COMMENT 'mã nhà mạng', status SMALLINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE mo_result (id bigint(20), mo_id bigint(11) NOT NULL COMMENT 'map voi id MoHistory', amount bigint(15) NOT NULL, userid bigint(15) NOT NULL, username VARCHAR(32) NOT NULL COMMENT 'username nap tien', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE money_log (logid BIGINT AUTO_INCREMENT, uuid VARCHAR(50) NOT NULL, logstamp BIGINT NOT NULL, userid BIGINT NOT NULL, username VARCHAR(75), transactionid INT DEFAULT '0' NOT NULL, lastcash BIGINT NOT NULL, changecash BIGINT NOT NULL, currentcash BIGINT NOT NULL, lastgold BIGINT NOT NULL, changegold BIGINT NOT NULL, currentgold BIGINT NOT NULL, taxpercent INT DEFAULT '0', taxvalue INT DEFAULT '0', gameid INT DEFAULT '0' NOT NULL, insertedtime DATETIME, cp TEXT, description TEXT NOT NULL, INDEX userid_idx (userid), INDEX gameid_idx (gameid), INDEX transactionid_idx (transactionid), PRIMARY KEY(logid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE money_transaction (transactionid INT AUTO_INCREMENT, type VARCHAR(40), code VARCHAR(40) DEFAULT NULL, PRIMARY KEY(transactionid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE notification (notificationid INT AUTO_INCREMENT, title TEXT, message TEXT, pushtime DATETIME, cp VARCHAR(10), PRIMARY KEY(notificationid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE notify (id BIGINT AUTO_INCREMENT, content TEXT COMMENT 'Noi dung thong bao', status TINYINT NOT NULL COMMENT '0: deactive, 1:active', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE online_log (logid BIGINT AUTO_INCREMENT, peakdata TEXT NOT NULL, insertedtime DATETIME NOT NULL, PRIMARY KEY(logid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE open_id (userid BIGINT, channel INT NOT NULL, createdtime DATETIME NOT NULL, openid VARCHAR(255) NOT NULL, displayname VARCHAR(100), PRIMARY KEY(userid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE option (optionid INT AUTO_INCREMENT, name VARCHAR(20) NOT NULL, description TEXT, value TEXT NOT NULL, PRIMARY KEY(optionid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE partner (partnerid INT, partnername VARCHAR(50), smsnumber VARCHAR(4), username VARCHAR(75), password VARCHAR(255), accesskey1 VARCHAR(255), accesskey2 VARCHAR(255), createdtime DATETIME DEFAULT '0000-00-00 00:00:00' NOT NULL, PRIMARY KEY(partnerid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE password_update (passwordupdateid INT AUTO_INCREMENT, userid BIGINT, username VARCHAR(75), log VARCHAR(100), updatetime DATETIME, mysql_user VARCHAR(100), oldpass VARCHAR(100), newpass VARCHAR(100), PRIMARY KEY(passwordupdateid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE promotion_rule (promotionruleid INT AUTO_INCREMENT, starttime DATETIME DEFAULT '0000-00-00 00:00:00' NOT NULL, endtime DATETIME DEFAULT '0000-00-00 00:00:00' NOT NULL, card INT DEFAULT '1' NOT NULL, sms INT DEFAULT '1', isactive TINYINT DEFAULT '1', title VARCHAR(255) DEFAULT NULL, description TEXT, specialcard INT DEFAULT '1', tierprice INT DEFAULT '5000000', cp VARCHAR(25) DEFAULT '0', highspecialcard INT DEFAULT '1', hightierprice INT DEFAULT '500000', PRIMARY KEY(promotionruleid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE provider (id BIGINT AUTO_INCREMENT, code VARCHAR(30) COMMENT 'mã nhà mạng', description VARCHAR(255) COMMENT 'mô tả', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE purchase_money (purchaseid INT AUTO_INCREMENT, userid BIGINT NOT NULL, username VARCHAR(75), provider VARCHAR(10) NOT NULL, cardserial VARCHAR(20) NOT NULL, cardpin VARCHAR(20) NOT NULL, securitykey VARCHAR(100) NOT NULL, status TINYINT NOT NULL, senttime DATETIME, receivedtime DATETIME, cardvalue BIGINT, gamemoney BIGINT, tocash TINYINT, PRIMARY KEY(purchaseid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE purchase_money_log (purchaselogid BIGINT AUTO_INCREMENT, userid BIGINT COMMENT 'user nap', username VARCHAR(32) COMMENT 'user nap', cashvalue BIGINT COMMENT 'giá trị cash nạp', currentcash BIGINT COMMENT 'giá trị sau khi nạp', purchasedtime BIGINT COMMENT 'thời gian giao dịch', parvalue BIGINT COMMENT 'mệnh giá tiền nạp', type SMALLINT COMMENT '1- nap the, 2: sms', description TEXT COMMENT 'Mô tả giao dịch', INDEX userid_idx (userid), PRIMARY KEY(purchaselogid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE purchase_money_missing (missid BIGINT AUTO_INCREMENT, userid BIGINT COMMENT 'user nap', username VARCHAR(32) COMMENT 'user nap', provider VARCHAR(11) COMMENT 'mã nhà cũng cấp', cardserial VARCHAR(32) COMMENT 'serial', cardpin VARCHAR(32) COMMENT 'Pin thẻ', cardvalue BIGINT COMMENT 'mệnh giá tiền nạp', tocash BIGINT COMMENT 'Số cash được cộng', active SMALLINT COMMENT 'Trạng thái giao dịch', admin_id BIGINT COMMENT 'admin tạo', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX admin_id_idx (admin_id), PRIMARY KEY(missid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE room (roomid INT AUTO_INCREMENT, gameid INT DEFAULT '0' NOT NULL, roomname VARCHAR(20) NOT NULL, viproom TINYINT DEFAULT '0' NOT NULL, mincash INT DEFAULT '0' NOT NULL, mingold INT DEFAULT '0' NOT NULL, minlevel INT DEFAULT '0' NOT NULL, roomcapacity INT DEFAULT '50' NOT NULL, playersize INT NOT NULL, minbet INT DEFAULT '0' NOT NULL, tax INT DEFAULT '5', maxroomplay INT DEFAULT '100' NOT NULL, permanentroomplay INT DEFAULT '0' NOT NULL, kicklimit TINYINT DEFAULT '0', starttime DATETIME, endtime DATETIME, status TINYINT DEFAULT '1' NOT NULL, PRIMARY KEY(roomid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE sessions_admin (sess_id VARCHAR(64), sess_data TEXT NOT NULL, sess_time BIGINT NOT NULL, sess_userid BIGINT, PRIMARY KEY(sess_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE sf_guard_forgot_password (id BIGINT AUTO_INCREMENT, user_id BIGINT NOT NULL, unique_key VARCHAR(255), expires_at DATETIME NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE sf_guard_group (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE sf_guard_group_permission (group_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(group_id, permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE sf_guard_permission (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, types TINYINT(1) DEFAULT '0' NOT NULL COMMENT 'Loại quyền: 0 - Quyền hệ thống, 1 - Quyền nội dung. Nếu là quyền hệ thống thì chỉ đọc mà không được sửa', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE sf_guard_remember_key (id BIGINT AUTO_INCREMENT, user_id BIGINT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE sf_guard_user (id BIGINT AUTO_INCREMENT, first_name VARCHAR(255), last_name VARCHAR(255), phone VARCHAR(15), email_address VARCHAR(255) UNIQUE, username VARCHAR(255) NOT NULL UNIQUE, algorithm VARCHAR(255) DEFAULT 'sha1' NOT NULL, salt VARCHAR(255), password VARCHAR(255), is_active TINYINT(1) DEFAULT '0', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, pass_update_at DATETIME, is_lock_signin TINYINT(1), locked_time BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX is_active_idx_idx (is_active), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE sf_guard_user_group (user_id BIGINT, group_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE sf_guard_user_permission (user_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE slider (slideid INT AUTO_INCREMENT, title VARCHAR(100), url VARCHAR(255), starttime DATETIME, endtime DATETIME, file VARCHAR(155), cp VARCHAR(40) DEFAULT '0', status TINYINT DEFAULT '1', PRIMARY KEY(slideid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE sms_log (smslogid BIGINT UNSIGNED AUTO_INCREMENT, sender VARCHAR(12) NOT NULL, recipient VARCHAR(12) NOT NULL, mobody VARCHAR(160) NOT NULL, mtbody VARCHAR(160), cp VARCHAR(10), status INT DEFAULT '1' NOT NULL, createdtime DATETIME NOT NULL, sendnumber VARCHAR(15), PRIMARY KEY(smslogid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE sms_text (smstextid BIGINT AUTO_INCREMENT, gameid INT NOT NULL, partnerid INT NOT NULL, txref VARCHAR(50), operatornumber CHAR(4), cmdcode VARCHAR(50) NOT NULL, msisdn VARCHAR(12), mobody VARCHAR(160) NOT NULL, mtbody VARCHAR(160), targetuserid BIGINT, targetusername VARCHAR(75), receivedtime DATETIME NOT NULL, responedtime DATETIME, status INT DEFAULT '1' NOT NULL, PRIMARY KEY(smstextid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE suggestion (suggestionid INT AUTO_INCREMENT, userid BIGINT, username VARCHAR(75), posttime DATETIME, note VARCHAR(255), PRIMARY KEY(suggestionid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE system_properties (key_ VARCHAR(100), value_ VARCHAR(100) NOT NULL, description TEXT, modifiedtime DATETIME, createdtime DATETIME, status TINYINT DEFAULT '0', PRIMARY KEY(key_)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE tai_game (id BIGINT AUTO_INCREMENT, os VARCHAR(12) NOT NULL COMMENT '1: andoird, 2: IOS, 3: windown', link_tai TEXT COMMENT 'Link tai game store', file_down TEXT COMMENT 'Link tai truc tiếp trên web', is_direct TINYINT NOT NULL COMMENT '0: tai truc tiep qua store, 1: tai file apk', count BIGINT COMMENT 'Số lượt tải', version_build TEXT COMMENT 'version game', platform_icon TEXT COMMENT 'Ảnh banner tải game', status TINYINT NOT NULL COMMENT '0: inactive, 1: active', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE tax_daily_statictis (taxid BIGINT AUTO_INCREMENT, day datetime NOT NULL, gameid BIGINT NOT NULL COMMENT 'id game', taxvalue BIGINT NOT NULL COMMENT '0: deactive, 1:active', iscash TINYINT COMMENT '1: cash, 0: gold', insertedtime DATETIME NOT NULL, PRIMARY KEY(taxid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE topup_log (topupid INT AUTO_INCREMENT, timetopup DATETIME, username VARCHAR(20), cardserial VARCHAR(20), cardpin VARCHAR(20), value BIGINT, providercard VARCHAR(20), currentcash INT, currentgold BIGINT, status INT, userid BIGINT, PRIMARY KEY(topupid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE transaction_card (transactioncardid INT AUTO_INCREMENT, cardnumber VARCHAR(50) NOT NULL, cardserial VARCHAR(50) NOT NULL, username VARCHAR(75) NOT NULL, cardprovider VARCHAR(10) NOT NULL, cp VARCHAR(10), channel INT, cardprice BIGINT NOT NULL, gameprice BIGINT NOT NULL, resmsg VARCHAR(100), transactiontime DATETIME NOT NULL, status TINYINT NOT NULL, userid BIGINT NOT NULL, PRIMARY KEY(transactioncardid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE transaction_type (transactiontypeid INT AUTO_INCREMENT, type VARCHAR(40) NOT NULL, code VARCHAR(40) DEFAULT '' NOT NULL, PRIMARY KEY(transactiontypeid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE user (userid BIGINT AUTO_INCREMENT, username VARCHAR(50) NOT NULL, password VARCHAR(100) NOT NULL, displayname VARCHAR(100) DEFAULT NULL, identity VARCHAR(50), address VARCHAR(200) DEFAULT NULL, email VARCHAR(100) DEFAULT NULL, mobile VARCHAR(20), birthday DATE, sex TINYINT DEFAULT '1' NOT NULL, registedtime DATETIME, age INT DEFAULT '20' NOT NULL, PRIMARY KEY(userid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE user_info (userid BIGINT, status TINYINT DEFAULT '1' NOT NULL, username VARCHAR(50), isonline TINYINT DEFAULT '0' NOT NULL, clientid SMALLINT DEFAULT '0' NOT NULL, ip VARCHAR(50) DEFAULT '' NOT NULL, device VARCHAR(200) DEFAULT NULL, screen VARCHAR(50) DEFAULT NULL, currentgameid INT DEFAULT '0' NOT NULL, experience BIGINT DEFAULT '0' NOT NULL, totalmatch INT DEFAULT '0' NOT NULL, totalwin INT DEFAULT '0' NOT NULL, playedgame INT DEFAULT '0', startplayedtime DATETIME DEFAULT '2012-07-30 11:00:00' NOT NULL, cp VARCHAR(255) DEFAULT '0', deviceidentify VARCHAR(100) DEFAULT NULL, gold BIGINT DEFAULT '0' NOT NULL, cash BIGINT DEFAULT '0' NOT NULL, level INT DEFAULT '0' NOT NULL, medal INT DEFAULT '1' NOT NULL, trustedindex INT DEFAULT '0' NOT NULL, avatarid INT DEFAULT '0' NOT NULL, autoready TINYINT DEFAULT '1' NOT NULL, autodenyinvitation TINYINT DEFAULT '0' NOT NULL, lastlogintime DATETIME, verified SMALLINT COMMENT '0 chưa xác thực, 1 xác thực', verifiedphone VARCHAR(15) COMMENT 'sdt xác thực', verifiedemail VARCHAR(15) COMMENT 'sdt xác thực', disablecashtransaction SMALLINT COMMENT 'khóa chức năng giao dịch cash', INDEX clientid_idx (clientid), INDEX cp_idx (cp), PRIMARY KEY(userid)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE user_otp (id BIGINT AUTO_INCREMENT, user_id bigint(20) NOT NULL, verify_code VARCHAR(32) COMMENT 'Mệnh giá thẻ cào hoặc giá niêm yết của hiện vật', expried_time DATETIME NOT NULL, mo_id TEXT NOT NULL COMMENT 'map voi bang mo_log', msisdn VARCHAR(15), type SMALLINT COMMENT 'kiểu otp: 0 xác thực tai khoan, 1 reset mật khẩu', status TINYINT NOT NULL COMMENT '0: chua su dung, 1:da su dung', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE user_reset_pw (id BIGINT AUTO_INCREMENT, user_id bigint(20) NOT NULL, verify_code VARCHAR(32) COMMENT 'Mệnh giá thẻ cào hoặc giá niêm yết của hiện vật', expried_time BIGINT NOT NULL, mo_id TEXT NOT NULL COMMENT 'map voi bang mo_log', msisdn VARCHAR(15), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE user_otp (id BIGINT AUTO_INCREMENT, user_id bigint(20) NOT NULL, verify_code VARCHAR(32) COMMENT 'Mệnh giá thẻ cào hoặc giá niêm yết của hiện vật', expried_time BIGINT NOT NULL, mo_id TEXT NOT NULL COMMENT 'map voi bang mo_log', msisdn VARCHAR(15), type SMALLINT COMMENT 'kiểu otp: 0 xác thực tai khoan, 1 reset mật khẩu', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE vt_action_logs (id BIGINT AUTO_INCREMENT, ip VARCHAR(50) COMMENT 'Ip của admin', action VARCHAR(20) COMMENT 'ten hanh dong ACCESS, ADD, UPDATE, DELETE, ACTIVE, DEACTIVE, REQUEST_APPROVE, APPROVE, DENY, SIGN', description TEXT COMMENT 'Nội dung thực hiện', actor_id bigint(20) NOT NULL, model VARCHAR(50) NOT NULL COMMENT 'Tên bảng tác động (1 bảng cho mỗi dòng)', record_id VARCHAR(20) COMMENT 'ID bản ghi bị tác động', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX actor_id_idx (actor_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE vt_user_signin_lock (id BIGINT AUTO_INCREMENT, user_name VARCHAR(255), created_time BIGINT, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE web_content (id BIGINT AUTO_INCREMENT, image VARCHAR(12) NOT NULL COMMENT 'Link hình ảnh', content TEXT COMMENT 'Nội dung', title TEXT COMMENT 'Tieu de', status TINYINT DEFAULT 0 COMMENT '0 tạo mới, 1 active', type TINYINT COMMENT '0: tin tức, 1 sự kiện', is_hot TINYINT DEFAULT 0 COMMENT '1: top hot', keywords TEXT COMMENT 'keywords', description TEXT COMMENT 'description', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
ALTER TABLE add_money ADD CONSTRAINT add_money_admin_id_sf_guard_user_id FOREIGN KEY (admin_id) REFERENCES sf_guard_user(id);
ALTER TABLE exchange_asset_request ADD CONSTRAINT exchange_asset_request_requestuserid_user_userid FOREIGN KEY (requestuserid) REFERENCES user(userid);
ALTER TABLE gift_code ADD CONSTRAINT gift_code_gifteventid_gift_event_gifteventid FOREIGN KEY (gifteventid) REFERENCES gift_event(gifteventid);
ALTER TABLE log_payment ADD CONSTRAINT log_payment_userid_user_userid FOREIGN KEY (userid) REFERENCES user(userid);
ALTER TABLE log_payment ADD CONSTRAINT log_payment_providerid_provider_id FOREIGN KEY (providerid) REFERENCES provider(id);
ALTER TABLE match_log ADD CONSTRAINT match_log_gameid_game_gameid FOREIGN KEY (gameid) REFERENCES game(gameid);
ALTER TABLE money_log ADD CONSTRAINT money_log_userid_user_userid FOREIGN KEY (userid) REFERENCES user(userid);
ALTER TABLE money_log ADD CONSTRAINT money_log_userid_user_info_userid FOREIGN KEY (userid) REFERENCES user_info(userid);
ALTER TABLE money_log ADD CONSTRAINT money_log_transactionid_money_transaction_transactionid FOREIGN KEY (transactionid) REFERENCES money_transaction(transactionid);
ALTER TABLE money_log ADD CONSTRAINT money_log_gameid_game_gameid FOREIGN KEY (gameid) REFERENCES game(gameid);
ALTER TABLE purchase_money_log ADD CONSTRAINT purchase_money_log_userid_user_info_userid FOREIGN KEY (userid) REFERENCES user_info(userid);
ALTER TABLE purchase_money_missing ADD CONSTRAINT purchase_money_missing_admin_id_sf_guard_user_id FOREIGN KEY (admin_id) REFERENCES sf_guard_user(id);
ALTER TABLE sf_guard_forgot_password ADD CONSTRAINT sf_guard_forgot_password_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_remember_key ADD CONSTRAINT sf_guard_remember_key_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE;
ALTER TABLE user_info ADD CONSTRAINT user_info_cp_partner_partnerid FOREIGN KEY (cp) REFERENCES partner(partnerid);
ALTER TABLE user_info ADD CONSTRAINT user_info_clientid_client_type_clientid FOREIGN KEY (clientid) REFERENCES client_type(clientid);
ALTER TABLE vt_action_logs ADD CONSTRAINT vt_action_logs_actor_id_sf_guard_user_id FOREIGN KEY (actor_id) REFERENCES sf_guard_user(id);
